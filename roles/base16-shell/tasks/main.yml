---
- name: clone repository
  git:
    dest: ~/.config/base16-shell
    recursive: yes
    repo: git@github.com:chriskempson/base16-shell.git
    update: no

- name: append rc
  blockinfile:
    block: |
      BASE16_SHELL=$HOME/.config/base16-shell/
      [ -n "$PS1" ] && [ -s $BASE16_SHELL/profile_helper.sh ] && eval "$($BASE16_SHELL/profile_helper.sh)"
      {{ base16_shell['theme'] }}
    marker: "# {mark} {{ role_path|basename }} append rc"
    path: ~/.zshrc
